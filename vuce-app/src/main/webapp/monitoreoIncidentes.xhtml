<ui:composition
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
    xmlns:p="http://primefaces.org/ui"
    xmlns:fn="http://java.sun.com/jsp/jstl/functions"
    template="master.xhtml">


    <ui:define name="pnl-jquery">
        <h:outputScript name="bower_components/jquery/dist/jquery.min.js"/> 
    </ui:define>


    <ui:define name="content">


        <h:outputStylesheet  name="css/bootstrap-select.min.css"/> 
        <h:outputStylesheet  name="bower_components/bootstrap-datepicker/dist/css/bootstrap-datepicker.min.css"/>   
        <h:outputStylesheet  name="css/codemirror.css"/>   

        <h:outputScript name="bower_components/bootstrap-datepicker/dist/js/bootstrap-datepicker.min.js"/>      
        <h:outputScript name="js/bootstrap-select.js"/> 

        <h:outputScript name="js/vuce-chart.js"/> 
        <h:outputScript name="js/monitoreoIncidentes.js"/>
        <h:outputScript name="js/vuce-api-rest.js"/>  
        <h:outputScript name="js/lib/Chart.min.js"/> 

        <h:outputScript name="js/lib/codemirror.js"/> 
        <h:outputScript name="js/lib/xml.js"/> 



        <!-- Content Header (Page header) -->
        <section class="content-header">
            <h1>
                Monitoreo de Incidentes     
            </h1>           
        </section>


        <!-- Main content -->
        <section class="content container-fluid">

			   


				<div class="col-md-12"
					style="padding-right: 1px; padding-left: 1px;">
					<!-- general form elements -->
					<div class="box box-danger">
						<div class="box-header with-border">
							 <form id="form-tramisiones-incidentes" method="GET">

							  <label for="desde" class="col-sm-12 col-md-3 col-lg-2 control-label text-right top-5 padding-bottom-10">Desde</label>
                                <div class="col-sm-12 col-md-3 col-lg-2 padding-bottom-10">
                                    <div class="input-group date">
                                        <div class="input-group-addon">
                                            <i class="fa fa-calendar"></i>
                                        </div>
                                        <input type="text" class="form-control pull-right" name="fechadesde" id="dp-fechadesde-tra-inc"/>
                                    </div>
                                </div>

                                <label for="tipo-mensaje" class="col-sm-3 col-md-3 col-lg-2 control-label text-right top-5 padding-bottom-10">Hasta</label>
                                <div class="col-sm-12 col-md-3 col-lg-2 padding-bottom-10">
                                    <div class="input-group date">
                                        <div class="input-group-addon">
                                            <i class="fa fa-calendar"></i>
                                        </div>
                                        <input type="text" class="form-control pull-right" name="fechahasta" id="dp-fechahasta-tra-inc"/>
                                    </div>
                                </div>


							 </form>
						</div>
						<div class="box-body">
							<div style="width: 75%">
								<canvas id="canvas"></canvas>
								
								<a href="javascript:api.callTransmisionesConIncidentes();">call</a>
							</div>
							
						</div>
					</div>
				</div>
			

            <form id="form-search" method="GET">


                <div class="col-md-12" style="padding-right: 1px; padding-left: 1px;">
                    <!-- general form elements -->
                    <div class="box box-danger">
                        <div class="box-header with-border">
                            <h3 class="box-title"><small></small></h3>   

                            <a href="/entidades.jsf" title="Configuraci&#243;n"  data-toggle="tooltip" class="pull-right">
                                <p:graphicImage style="width: 35px;" library="images" name="gear.png" styleClass="pull-right" />

                            </a>

                        </div>                  
                        <div class="box-body">
                           

                        </div>

                        <div class="box-footer" style="text-align: right;">
                            
                            <button type="button" class="btn btn-primary pull-righ" onclick="" style="margin-right: 20px;margin-bottom:10px;"  id="filtrar-incidentes">Filtrar Incidentes</button>
                            
                            <button type="button" class="btn btn-primary pull-righ" style="margin-right: 20px;margin-bottom:10px;">Enviar Informe de Incidentes</button>
                            
                            
                        </div>


                    </div>
                </div>
            </form>

        
        </section>

			<script>
			
			window.chartColors = {
					red: 'rgb(255, 99, 132)',
					orange: 'rgb(255, 159, 64)',
					yellow: 'rgb(255, 205, 86)',
					green: 'rgb(75, 192, 192)',
					blue: 'rgb(54, 162, 235)',
					purple: 'rgb(153, 102, 255)',
					grey: 'rgb(201, 203, 207)'
				};
			
			
			
		var barChartData = {
				
			labels: ['APN', 'SENASA', 'VUCE', 'SERFOR', 'IPEN', 'SUCAMEC', 'AGN'],
			
			datasets: [{
				label: 'Salida',
				backgroundColor: window.chartColors.red,
				data: [
					1,2,3,4,5,6,7
				]
			}, 
			{
				label: 'Entrada',
				backgroundColor: window.chartColors.green,
				data: [
					1,7,2,3,6,5,4
				]
			}]

		};
		
		
		window.onload = function() {
			var ctx = document.getElementById('canvas').getContext('2d');
			window.myBar = new Chart(ctx, {
				type: 'bar',
				data: barChartData,
				options: {
					title: {
						display: true,
						text: 'Total de Transmisiones con incidentes por entidad'
					},
					tooltips: {
						mode: 'index',
						intersect: false
					},
					responsive: true,
					scales: {
						xAxes: [{
							stacked: true,
						}],
						yAxes: [{
							stacked: true
						}]
					}
				}
			});
		};

	</script>





    </ui:define>
</ui:composition>