<ui:composition
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
    xmlns:p="http://primefaces.org/ui"
    xmlns:fn="http://java.sun.com/jsp/jstl/functions"
    xmlns:pe="http://primefaces.org/ui/extensions"
    template="master.xhtml">
    <ui:define name="content">





        <!-- Content Header (Page header) -->
        <section class="content-header">
            <h1>
                Configuraci&#243;n
            </h1>           
        </section>


        <!-- Main content -->
        <section class="content container-fluid">




            <h:form id="form-update">

                <p:messages id="msgs" />


                <div class="col-md-12" style="padding-right: 1px; padding-left: 1px;">
                    <!-- general form elements -->
                    <div class="box box-danger">
                        <div class="box-body">
                            <div class="form-group col-sm-12 col-md-4 col-lg-3">
                                <label for="entidad">Entidad</label>
                                <p:inputText disabled="true" styleClass="form-control" id="entidad" value="#{entidadBean.entidad.entidad}" />                                
                            </div>
                            <div class="form-group col-sm-12 col-md-4 col-lg-3">
                                <label for="correo">Correo</label>
                                <p:inputText disabled="#{entidadBean.disabledForm}" styleClass="form-control" id="correo" value="#{entidadBean.entidad.correoSoporte}" requiredMessage="Correo es un campo requerido" required="true" >  
                                    <p:keyFilter regEx="/[a-z0-9_\.\-@]/i"/>
                                </p:inputText>                                

                            </div>
                            <div class="form-group col-sm-12 col-md-4 col-lg-3">
                                <label for="sla-disponiblidad">SLA de disponibilidad</label>
                                <p:inputText disabled="#{entidadBean.disabledForm}" styleClass="form-control" id="sla-disponiblidad" value="#{entidadBean.entidad.slaDisponibilidadTransaccion}" required="true" requiredMessage="SLA de disponibilidad campo requerido"  maxlength="10" >  
                                    <p:keyFilter regEx="/[0-9]/"/>
                                </p:inputText>

                            </div>
                            <div class="form-group col-sm-12 col-md-4 col-lg-3">
                                <label for="sla-confirmacion">SLA de confirmaci&#243;n</label>
                                <p:inputText disabled="#{entidadBean.disabledForm}" styleClass="form-control" id="sla-confirmacion" value="#{entidadBean.entidad.slaConfirmacionTransaccion}" required="true" requiredMessage="SLA de confirmaci&#243;n campo requerido" >  
                                    <p:keyFilter regEx="/[0-9]/"/>
                                </p:inputText>   
                            </div>
                            <div class="form-group col-sm-12 col-md-4 col-lg-3">
                                <label for="sla-procesamiento">SLA de procesamiento </label>
                                <p:inputText disabled="#{entidadBean.disabledForm}" styleClass="form-control" id="sla-procesamiento" value="#{entidadBean.entidad.slaProcesamientoNotificacion}" required="true" requiredMessage="SLA de procesamiento campo requerido" >  
                                    <p:keyFilter regEx="/[0-9]/"/>
                                </p:inputText>   
                            </div>
                            <div class="form-group col-sm-12 col-md-4 col-lg-3">
                                <label for="sla-frecuencia-lectura">SLA de frecuencia lectura</label>
                                <p:inputText disabled="#{entidadBean.disabledForm}" styleClass="form-control" id="sla-frecuencia-lectura" value="#{entidadBean.entidad.slaFrecuenciaLectura}" required="true" requiredMessage="SLA de frecuencia lectura campo requerido" >  
                                    <p:keyFilter regEx="/[0-9]/"/>
                                </p:inputText>    
                            </div>
                            <div class="form-group col-sm-12 col-md-4 col-lg-3">
                                <label for="sla-frecuencia-lectura-pm">SLA de frecuencia lectura PM</label>
                                <p:inputText disabled="#{entidadBean.disabledForm}" styleClass="form-control" id="sla-frecuencia-lectura-pm" value="#{entidadBean.entidad.slaFrecuenciaLecturaPm}" required="true" requiredMessage="SLA de frecuencia lectura PM campo requerido" >  
                                    <p:keyFilter regEx="/[0-9]/"/>
                                </p:inputText>   
                            </div>
                            <div class="form-group col-sm-12 col-md-4 col-lg-3 ">
                                <label for="btn-actualizar">&#160;</label><br/>
                                <p:commandButton update="form-update" disabled="#{entidadBean.disabledForm}" actionListener="#{entidadBean.updateEntidad}" icon="fa fa-refresh" id="btn-actualizar" value="Actualizar" styleClass="btn btn-primary btn-lg"  />    
                            </div> 
                        </div>
                    </div>
                </div>
                <div class="col-md-12" style="padding-right: 1px; padding-left: 1px;">
                    <!-- general form elements -->
                    <div class="box box-danger">

                        <div class="box-body">

                            <p:dataTable styleClass="table table-bordered" id="tb-entidades" 
                                         var="item"
                                         rowIndexVar="rowIndex"
                                         value="#{entidadBean.entidades}"
                                         selection="#{entidadBean.entidad}"
                                         rowKey="#{item.idEntidad}" 
                                         emptyMessage="Lista Vacia" 
                                         selectionMode="single"
                                         scrollable="true">

                                <p:ajax event="rowSelect" listener="#{entidadBean.activateForm}" update=":form-update" />



                                <p:column style="width: 8%" headerText="Entidad">
                                    <h:outputText value="#{item.entidad}" />                                       
                                </p:column>


                                <p:column style="width: 10%" headerText="Correo">
                                    <h:outputText value="#{item.correoSoporte}" />                                       
                                </p:column>

                                <p:column style="width: 7%" headerText="Disponibilidad Transaccion">
                                    <h:outputText value="#{item.slaDisponibilidadTransaccion}" />                                       
                                </p:column>

                                <p:column style="width: 7%" headerText="Confirmacion Transaccion">
                                    <h:outputText value="#{item.slaConfirmacionTransaccion}" />                                       
                                </p:column>

                                <p:column style="width: 7%" headerText="Procesamiento Notificaci&#243;n">
                                    <h:outputText value="#{item.slaProcesamientoNotificacion}" />                                       
                                </p:column>

                                <p:column style="width: 7%" headerText="Frecuencia Lectura" >
                                    <h:outputText value="#{item.slaFrecuenciaLectura}" />                                       
                                </p:column>

                                <p:column style="width: 7%" headerText="Frecuencia Lectura PM" >
                                    <h:outputText value="#{item.slaFrecuenciaLecturaPm}" />                                       
                                </p:column>

                                <f:facet name="footer"> </f:facet>

                            </p:dataTable> 


                        </div>
                    </div>
                </div>
            </h:form>


        </section>










    </ui:define>
</ui:composition>